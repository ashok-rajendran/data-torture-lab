erDiagram
    %% ---------- Tables ----------
    AIRPORTS {
        VARCHAR airport_id PK "Unique airport ID (AP-JFK)"
        VARCHAR iata_code "IATA code"
        VARCHAR city "City name"
        VARCHAR country "Country"
    }

    ROUTES {
        VARCHAR route_id PK "Unique route ID"
        VARCHAR source_airport FK "FK -> AIRPORTS.airport_id"
        VARCHAR destination_airport FK "FK -> AIRPORTS.airport_id"
        INT distance_km "Distance in km"
        FLOAT flight_time_hr "Approx flight time in hours"
    }

    FLIGHTS {
        VARCHAR flight_id PK "Unique flight ID"
        VARCHAR flight_number "Flight number"
        VARCHAR airline "Airline name"
        VARCHAR route_id FK "FK -> ROUTES.route_id"
        DATETIME departure_time "Scheduled departure"
        DATETIME arrival_time "Scheduled arrival"
        VARCHAR status "Flight status (on-time/delayed/cancelled)"
    }

    CUSTOMERS {
        VARCHAR customer_id PK "Unique customer ID"
        VARCHAR name "Customer full name"
        VARCHAR nationality "Customer nationality"
        VARCHAR email "Contact email"
    }

    MEMBERSHIP {
        VARCHAR membership_id PK "Unique membership ID"
        VARCHAR customer_id FK "FK -> CUSTOMERS.customer_id"
        VARCHAR tier "Silver/Gold/Platinum"
        INT points "Loyalty points"
    }

    EMPLOYEES {
        VARCHAR employee_id PK "Unique employee ID"
        VARCHAR name "Employee name"
        VARCHAR role "Pilot/Crew/Ground Staff"
        VARCHAR airline "Airline worked for"
        VARCHAR country "Country of employment"
    }

    BOOKINGS {
        VARCHAR booking_id PK "Unique booking ID"
        VARCHAR customer_id FK "FK -> CUSTOMERS.customer_id"
        VARCHAR flight_id FK "FK -> FLIGHTS.flight_id"
        DATETIME booking_time "Booking timestamp"
        VARCHAR status "Booking status (confirmed/cancelled/no-show/rescheduled)"
    }

    TRANSACTIONS {
        VARCHAR transaction_id PK "Unique transaction ID"
        VARCHAR booking_id FK "FK -> BOOKINGS.booking_id"
        FLOAT amount "Payment amount"
        VARCHAR payment_method "Payment method"
        VARCHAR status "Transaction status (completed/failed/refunded)"
        DATETIME transaction_time "Transaction timestamp"
    }

    %% ---------- Relationships with cardinality ----------
    ROUTES.source_airport --> AIRPORTS.airport_id : "N:1"
    ROUTES.destination_airport --> AIRPORTS.airport_id : "N:1"

    FLIGHTS.route_id --> ROUTES.route_id : "N:1"

    BOOKINGS.customer_id --> CUSTOMERS.customer_id : "N:1"
    BOOKINGS.flight_id --> FLIGHTS.flight_id : "N:1"

    MEMBERSHIP.customer_id --> CUSTOMERS.customer_id : "0..1:1"

    TRANSACTIONS.booking_id --> BOOKINGS.booking_id : "1:1"

    %% ---------- Notes ----------
    %% 1 Customer can have multiple bookings (1:N)
    %% One booking has exactly one transaction (1:1)
    %% One flight has multiple bookings (1:N)
